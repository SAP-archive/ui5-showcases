/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/f/cards/BaseContent","sap/m/List","sap/m/StandardListItem","sap/ui/base/ManagedObject","sap/f/cards/ActionEnablement"],function(t,e,i,n,o){"use strict";var s=t.extend("sap.f.cards.ListContent",{renderer:{}});s.prototype._getList=function(){if(this._bIsBeingDestroyed){return null}var t=this.getAggregation("_content");if(!t){t=new e({id:this.getId()+"-list",growing:false,showNoData:false,showSeparators:"None"});this.setAggregation("_content",t)}return t};s.prototype.init=function(){t.prototype.init.apply(this,arguments);var e=this._getList();var n=this;e.attachUpdateFinished(function(){if(n._iVisibleItems){var t=e.getItems();for(var i=n._iVisibleItems+1;i<t.length;i++){t[i].setVisible(false)}}});this._oItemTemplate=new i({iconDensityAware:false})};s.prototype.exit=function(){t.prototype.exit.apply(this,arguments);if(this._oItemTemplate){this._oItemTemplate.destroy();this._oItemTemplate=null}};s.prototype.setConfiguration=function(e){t.prototype.setConfiguration.apply(this,arguments);if(!e){return this}if(e.items){this._setStaticItems(e.items);return this}if(e.item){this._setItem(e.item)}return this};s.prototype._setItem=function(t){t.title&&this._bindObjectItemProperty("title",t.title);t.description&&this._bindObjectItemProperty("description",t.description);t.icon&&t.icon.src&&this._bindItemProperty("icon",t.icon.src);t.highlight&&this._bindItemProperty("highlight",t.highlight);t.info&&this._bindItemProperty("info",t.info.value);t.info&&this._bindItemProperty("infoState",t.info.state);this._attachActions(t,this._oItemTemplate);var e={template:this._oItemTemplate};this._bindAggregation("items",this._getList(),e)};s.prototype._setStaticItems=function(t){var e=this._getList();t.forEach(function(t){var n=new i({iconDensityAware:false,title:t.title?t.title:"",description:t.description?t.description:"",icon:t.icon?t.icon:"",infoState:t.infoState?t.infoState:"None",info:t.info?t.info:"",highlight:t.highlight?t.highlight:"None"});if(t.action){n.setType("Navigation");if(t.action.url){n.attachPress(function(){window.open(t.action.url,t.target||"_blank")})}}e.addItem(n)});this.fireEvent("_actionContentReady")};s.prototype._bindObjectItemProperty=function(t,e){if(typeof e==="string"){this._bindItemProperty(t,e)}else{this._bindItemProperty(t,e.value)}};s.prototype._bindItemProperty=function(t,e){if(!e){return}var i=n.bindingParser(e);if(i){this._oItemTemplate.bindProperty(t,i)}else{this._oItemTemplate.setProperty(t,e)}};s.prototype.getInnerList=function(){return this._getList()};o.enrich(s);return s});