/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./ObjectImageHelper","sap/ui/Device"],function(e,t){"use strict";var a={};a.render=function(a,r){var i=r.getNavigationBar(),s=r.getIsObjectIconAlwaysVisible()||r.getIsObjectTitleAlwaysVisible()||r.getIsObjectSubtitleAlwaysVisible()||r.getIsActionAreaAlwaysVisible(),d=r.getParent(),n=r.getAggregation("_expandButton"),l=r._lazyLoadInternalAggregation("_objectImage",true),o,g=t.system.desktop,c=d&&d.isA("sap.uxap.ObjectPageLayout")&&(d.getHeaderContent()&&d.getHeaderContent().length>0&&d.getShowHeaderContent()||d.getShowHeaderContent()&&d.getShowTitleInHeaderContent());a.write("<div");a.writeControlData(r);a.addClass("sapUxAPObjectPageHeader");a.addClass("sapUxAPObjectPageHeaderDesign-"+r.getHeaderDesign());a.writeClasses();a.write(">");if(i){a.write("<div");a.addClass("sapUxAPObjectPageHeaderNavigation");a.writeClasses();a.write(">");a.renderControl(i);a.write("</div>")}a.write("<div");a.writeAttributeEscaped("id",r.getId()+"-identifierLine");a.addClass("sapUxAPObjectPageHeaderIdentifier");if(s){a.addClass("sapUxAPObjectPageHeaderIdentifierForce")}a.writeClasses();a.write(">");if(d&&d.isA("sap.uxap.ObjectPageLayout")&&d.getIsChildPage()){a.write("<div");a.addClass("sapUxAPObjectChildPage");a.writeClasses();a.write("></div>")}if(r.getShowPlaceholder()){o=r._lazyLoadInternalAggregation("_placeholder",true)}e._renderImageAndPlaceholder(a,{oHeader:r,oObjectImage:l,oPlaceholder:o,bIsObjectIconAlwaysVisible:r.getIsObjectIconAlwaysVisible(),bAddSubContainer:true,sBaseClass:"sapUxAPObjectPageHeaderObjectImageContainer"});a.write("<span ");a.writeAttributeEscaped("id",r.getId()+"-identifierLineContainer");a.addClass("sapUxAPObjectPageHeaderIdentifierContainer");a.writeClasses();a.write(">");this._renderObjectPageTitle(a,r);a.write("</span>");a.write("<span");a.writeAttributeEscaped("id",r.getId()+"-actions");a.addClass("sapUxAPObjectPageHeaderIdentifierActions");if(r.getIsActionAreaAlwaysVisible()){a.addClass("sapUxAPObjectPageHeaderIdentifierActionsForce")}a.writeClasses();a.write(">");if(g&&c){n.addStyleClass("sapUxAPObjectPageHeaderExpandButton");a.renderControl(n)}var w=r.getActions();for(var p=0;p<w.length;p++){var C=w[p];a.renderControl(C)}var b=r.getAggregation("_overflowButton");a.renderControl(b);this._renderSideContentBtn(a,r);a.write("</span>");a.write("</div>");a.write("</div>")};a._renderObjectPageTitle=function(e,t,a){var r=t.getObjectTitle(),i=t.getShowMarkers()&&(t.getMarkFavorite()||t.getMarkFlagged()),s=t._getBreadcrumbsAggregation(),d=t.getTooltip_Text(),n=a?"-content":"";if(!a&&s){e.renderControl(s)}e.write("<h2");e.addClass("sapUxAPObjectPageHeaderIdentifierTitle");if(t.getIsObjectTitleAlwaysVisible()){e.addClass("sapUxAPObjectPageHeaderIdentifierTitleForce")}if(a){e.addClass("sapUxAPObjectPageHeaderIdentifierTitleInContent")}if(t.getShowTitleSelector()){e.addClass("sapUxAPObjectPageHeaderTitleFollowArrow")}e.writeClasses();e.writeAttributeEscaped("id",t.getId()+"-title"+n);e.write(">");e.write("<span");e.addClass("sapUxAPObjectPageHeaderTitleText");e.addClass("sapUxAPObjectPageHeaderTitleTextWrappable");e.writeClasses();e.writeAttributeEscaped("id",t.getId()+"-innerTitle"+n);if(d){e.writeAttributeEscaped("title",d)}e.write(">");if(i||t.getShowTitleSelector()||t.getMarkLocked()||t.getMarkChanges()){var l=r.substr(r.lastIndexOf(" ")+1);var o=r.substr(0,r.lastIndexOf(" ")+1);if(l.length===1){l=r;o=""}e.writeEscaped(o);e.write("</span>");e.write("<span");e.addClass("sapUxAPObjectPageHeaderNowrapMarkers");if(t.getMarkLocked()||t.getMarkChanges()){e.addClass("sapUxAPObjectPageHeaderMarks")}e.writeClasses();e.write(">");e.write("<span");e.addClass("sapUxAPObjectPageHeaderTitleText");e.writeClasses();e.write(">");e.writeEscaped(l);e.write("</span>");this._renderMarkers(e,t);if(t.getMarkLocked()){this._renderLock(e,t,a)}else if(t.getMarkChanges()){this._renderMarkChanges(e,t,a)}this._renderSelectTitleArrow(e,t,a);e.write("</span>")}else{e.writeEscaped(r);e.write("</span>")}e.write("</h2>");e.write("<span");e.addClass("sapUxAPObjectPageHeaderIdentifierDescription");if(t.getIsObjectSubtitleAlwaysVisible()&&t.getObjectSubtitle()){e.addClass("sapUxAPObjectPageHeaderIdentifierDescriptionForce")}if(a){e.addClass("sapUxAPObjectPageHeaderIdentifierSubTitleInContent")}e.writeClasses();e.writeAttributeEscaped("id",t.getId()+"-subtitle"+n);e.write(">");e.writeEscaped(t.getObjectSubtitle());e.write("</span>")};a._renderSelectTitleArrow=function(e,t,a){if(t.getShowTitleSelector()){e.write("<span");e.addClass("sapUxAPObjectPageHeaderTitleArrow");e.writeClasses();e.write(">");if(a){e.renderControl(t._oTitleArrowIconCont)}else{e.renderControl(t._oTitleArrowIcon)}e.write("</span>")}};a._renderSideContentBtn=function(e,t){var a=t.getSideContentButton();if(a){e.write("<span");e.addClass("sapUxAPObjectPageHeaderSideContentBtn");e.writeClasses();e.write(">");e.write("<span");e.addClass("sapUxAPObjectPageHeaderSeparator");e.writeClasses();e.write("></span>");e.renderControl(a);e.write("</span>")}};a._renderMarkChanges=function(e,t,a){e.write("<span");e.addClass("sapUxAPObjectPageHeaderChangesBtn");e.addClass("sapUiSizeCompact");e.writeClasses();e.write(">");if(a){e.renderControl(t._oChangesIconCont)}else{e.renderControl(t._oChangesIcon)}e.write("</span>")};a._renderLock=function(e,t,a){e.write("<span");e.addClass("sapUxAPObjectPageHeaderLockBtn");e.addClass("sapUiSizeCompact");e.writeClasses();e.write(">");if(a){e.renderControl(t._oLockIconCont)}else{e.renderControl(t._oLockIcon)}e.write("</span>")};a._renderMarkers=function(e,t){var a=[];if(t.getShowMarkers()){a.push(t._oFavIcon);a.push(t._oFlagIcon);this._renderMarkersAria(e,t);e.write("<span");e.addClass("sapMObjStatusMarker");e.writeClasses();e.writeAttributeEscaped("id",t.getId()+"-markers");e.writeAttributeEscaped("aria-describedby",t.getId()+"-markers-aria");e.write(">");for(var r=0;r<a.length;r++){e.renderControl(a[r])}e.write("</span>")}};a._renderMarkersAria=function(e,t){var a="";if(t.getMarkFlagged()){a+=t.oLibraryResourceBundle.getText("ARIA_FLAG_MARK_VALUE")+" "}if(t.getMarkFavorite()){a+=t.oLibraryResourceBundle.getText("ARIA_FAVORITE_MARK_VALUE")+" "}if(a!==""){e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-markers-aria");e.writeAttribute("aria-hidden","false");e.addClass("sapUiHidden");e.writeClasses();e.write(">");e.writeEscaped(a);e.write("</div>")}};return a},true);