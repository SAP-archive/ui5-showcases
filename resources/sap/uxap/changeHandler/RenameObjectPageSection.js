/*!
	 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
	 */
sap.ui.define(["sap/ui/fl/Utils","sap/ui/fl/changeHandler/BaseRename"],function(e,t){"use strict";var r={propertyName:"title",changePropertyName:"newText",translationTextType:"XGRP"};var a=t.createRenameChangeHandler(r);a._getControlForRename=function(e,t){var r=t.getAggregation(e,"subSections");if(r&&r.length===1&&t.getProperty(r[0],"title")&&t.getProperty(t.getParent(e),"subSectionLayout")==="TitleOnTop"){return r[0]}return e};a._getSetterMethodName=function(t,r,a){return e.isBinding(t)?"setPropertyBinding":"setProperty"};a.applyChange=function(t,n,o){var i=o.modifier;var g=r.propertyName;var p=t.getDefinition();var s=p.texts[r.changePropertyName];var l=s.value;var f=a._getControlForRename(n,i);if(typeof l==="string"&&l.trim()===""){throw new Error("Change cannot be applied as ObjectPageSubSection's title cannot be empty: ["+p.layer+"]"+p.namespace+"/"+p.fileName+"."+p.fileType)}if(p.texts&&s&&typeof l==="string"){t.setRevertData(i.getProperty(f,g));var u=a._getSetterMethodName(l);i[u](f,g,l);return true}else{e.log.error("Change does not contain sufficient information to be applied: ["+p.layer+"]"+p.namespace+"/"+p.fileName+"."+p.fileType)}};a.revertChange=function(t,n,o){var i=t.getRevertData();if(typeof i==="string"){var g=o.modifier;var p=a._getControlForRename(n,g);var s=r.propertyName;var l=a._getSetterMethodName(i);g[l](p,s,i);t.resetRevertData();return true}else{e.log.error("Change doesn't contain sufficient information to be reverted. Most Likely the Change didn't go through applyChange.")}};return a},true);