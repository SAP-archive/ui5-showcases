/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Element","sap/ui/core/Icon","sap/ui/core/IconPool","sap/ui/Device"],function(e,t,i,s){"use strict";var a={};a.CSS_CLASS="sapMSelectList";a.render=function(e,t){this.writeOpenListTag(e,t,{elementData:true});this.renderItems(e,t);this.writeCloseListTag(e,t)};a.writeOpenListTag=function(e,t,i){var s=a.CSS_CLASS;e.write("<ul");if(i.elementData){e.writeControlData(t)}e.addClass(s);if(t.getShowSecondaryValues()){e.addClass(s+"TableLayout")}if(!t.getEnabled()){e.addClass(s+"Disabled")}e.addStyle("width",t.getWidth());e.addStyle("max-width",t.getMaxWidth());e.writeStyles();e.writeClasses();this.writeAccessibilityState(e,t);e.write(">")};a.writeCloseListTag=function(e,t){e.write("</ul>")};a.renderItems=function(e,t){var i=t._getNonSeparatorItemsCount(),s=t.getItems(),a=t.getSelectedItem(),r=1,l;for(var n=0;n<s.length;n++){l={selected:a===s[n],setsize:i,elementData:true};if(!(s[n]instanceof sap.ui.core.SeparatorItem)){l.posinset=r++}this.renderItem(e,t,s[n],l)}};a.renderItem=function(t,i,r,l){if(!(r instanceof e)){return}var n=r.getEnabled(),d=i.getSelectedItem(),o=a.CSS_CLASS,c=r.getTooltip_AsString(),w=i.getShowSecondaryValues();t.write("<li");if(l.elementData){t.writeElementData(r)}if(r instanceof sap.ui.core.SeparatorItem){t.addClass(o+"SeparatorItem");if(w){t.addClass(o+"Row")}}else{t.addClass(o+"ItemBase");if(w){t.addClass(o+"Row")}else{t.addClass(o+"Item")}if(r.bVisible===false){t.addClass(o+"ItemBaseInvisible")}if(!n){t.addClass(o+"ItemBaseDisabled")}if(n&&s.system.desktop){t.addClass(o+"ItemBaseHoverable")}if(r===d){t.addClass(o+"ItemBaseSelected")}if(n){t.writeAttribute("tabindex","0")}}t.writeClasses();if(c){t.writeAttributeEscaped("title",c)}this.writeItemAccessibilityState.apply(this,arguments);t.write(">");if(w){t.write("<span");t.addClass(o+"Cell");t.addClass(o+"FirstCell");t.writeClasses();t.writeAttribute("disabled","disabled");t.write(">");this._renderIcon(t,r);t.writeEscaped(r.getText());t.write("</span>");t.write("<span");t.addClass(o+"Cell");t.addClass(o+"LastCell");t.writeClasses();t.writeAttribute("disabled","disabled");t.write(">");if(typeof r.getAdditionalText==="function"){t.writeEscaped(r.getAdditionalText())}t.write("</span>")}else{this._renderIcon(t,r);t.writeEscaped(r.getText())}t.write("</li>")};a.writeAccessibilityState=function(e,t){e.writeAccessibilityState(t,{role:"listbox"})};a.writeItemAccessibilityState=function(e,t,s,a){var r=s.isA("sap.ui.core.SeparatorItem")?"separator":"option";var l;if(!s.getText()&&s.getIcon&&s.getIcon()){var n=i.getIconInfo(s.getIcon());if(n){l=n.text||n.name}}e.writeAccessibilityState(s,{role:r,selected:a.selected,setsize:a.setsize,posinset:a.posinset,label:l})};a._renderIcon=function(e,i){if(i.getIcon&&i.getIcon()){var s=new t({src:i.getIcon()});s.addStyleClass("sapMSelectListItemIcon");e.renderControl(s)}};return a},true);