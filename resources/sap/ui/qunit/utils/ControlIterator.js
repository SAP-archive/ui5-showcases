/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Core","sap/base/util/ObjectPath","sap/base/Log","sap/ui/VersionInfo"],function(e,i,n,a){"use strict";var t={};var r=["sap.chart.Chart","sap.m.ColumnHeaderPopover","sap.m.FacetFilterItem","sap.m.internal.NumericInput","sap.m.LightBox","sap.m.Menu","sap.m.NotificationListBase","sap.m.NotificationListItem","sap.m.QuickViewBase","sap.m.QuickViewGroup","sap.m.QuickViewGroupElement","sap.m.TabStripItem","sap.m.TimePickerSlider","sap.m.TimePickerSliders","sap.m.UploadCollectionToolbarPlaceholder","sap.m.Wizard","sap.makit.Chart","sap.me.TabContainer","sap.suite.ui.microchart.InteractiveBarChart","sap.suite.ui.microchart.InteractiveDonutChart","sap.tnt.NavigationList","sap.ui.comp.smartform.Group","sap.ui.comp.smartform.GroupElement","sap.ui.comp.valuehelpdialog.ValueHelpDialog","sap.ui.core.mvc.HTMLView","sap.ui.core.mvc.JSONView","sap.ui.core.mvc.JSView","sap.ui.core.mvc.TemplateView","sap.ui.core.mvc.View","sap.ui.core.mvc.XMLView","sap.ui.core.tmpl.Template","sap.ui.core.UIComponent","sap.ui.core.util.Export","sap.ui.demokit.IndexLayout._Tile","sap.ui.documentation.sdk.controls.BorrowedList","sap.ui.documentation.sdk.controls.LightTable","sap.ui.layout.BlockLayoutRow","sap.ui.richtexteditor.RichTextEditor","sap.ui.richtexteditor.ToolbarWrapper","sap.ui.rta.AddElementsDialog","sap.ui.rta.ContextMenu","sap.ui.suite.TaskCircle","sap.ui.table.ColumnMenu","sap.ui.unified.Menu","sap.ui.ux3.ActionBar","sap.ui.ux3.ExactList.LB","sap.ui.ux3.NotificationBar","sap.uiext.inbox.composite.InboxTaskTitleControl","sap.uiext.inbox.InboxFormattedTextView","sap.uiext.inbox.InboxTaskDetails","sap.uiext.inbox.InboxToggleTextView","sap.uiext.inbox.SubstitutionRulesManager","sap.uxap.AnchorBar","sap.uxap.BlockBase","sap.uxap.BreadCrumbs","sap.uxap.ObjectPageHeader","sap.uxap.ObjectPageSubSection","sap.viz.ui5.controls.common.BaseControl","sap.viz.ui5.controls.VizRangeSlider","sap.viz.ui5.controls.VizTooltip","sap.viz.ui5.core.BaseChart"];function o(e,i){if(!s(e,i)){return false}if(r.indexOf(e)>-1){return false}return true}var u=["sap.makit.Chart","sap.ui.commons.SearchField","sap.ui.commons.SearchField.CB","sap.ui.commons.SearchFieldCB","sap.ui.commons.Tab","sap.ui.comp.transport.TransportDialog","sap.ui.core.ComponentContainer","sap.ui.core.mvc.HTMLView","sap.ui.core.mvc.JSONView","sap.ui.core.mvc.JSView","sap.ui.core.mvc.TemplateView","sap.ui.core.mvc.View","sap.ui.core.mvc.XMLView","sap.ui.core.XMLComposite","sap.ui.demokit.IndexLayout._Tile","sap.ui.mdc.BaseControl","sap.ui.mdc.FilterBar","sap.ui.mdc.FilterField","sap.ui.mdc.odata.v4.microchart.MicroChart","sap.ui.mdc.ValueHelpDialog","sap.ui.mdc.XMLComposite","sap.ui.rta.AddElementsDialog","sap.ui.rta.ContextMenu"];function s(e,i){if(u.indexOf(e)>-1){return false}if(!i){return false}var n=i.getMetadata();if(n.isAbstract()){return false}return true}t.aKnownOpenUI5Libraries=["sap.f","sap.m","sap.tnt","sap.ui.codeeditor","sap.ui.commons","sap.ui.core","sap.ui.demokit","sap.ui.documentation","sap.ui.dt","sap.ui.fl","sap.ui.integration","sap.ui.layout","sap.ui.rta","sap.ui.suite","sap.ui.support","sap.ui.table","sap.ui.unified","sap.ui.ux3","sap.uxap"];t.aKnownRuntimeLayerLibraries=t.aKnownOpenUI5Libraries.concat(["sap.chart","sap.makit","sap.me","sap.ndc","sap.suite.ui.microchart","sap.ui.comp","sap.ui.generic.app","sap.ui.generic.template","sap.ui.mdc","sap.ui.richtexteditor","sap.viz"]);t.isKnownRuntimeLayerLibrary=function(e){return t.aKnownRuntimeLayerLibraries.indexOf(e)>-1};function c(){}function l(){return true}function d(){return false}function p(e){return e.name}function f(i){i=i||l;return a.load().then(function(e){return e.libraries.map(p).filter(i)}).then(function(i){return Promise.all(i.map(function(i){return e.loadLibrary(i,{async:true}).catch(c)}))}).then(function(){var n=e.getLoadedLibraries();for(var a in n){if(!i(a)){delete n[a]}}return n})}function m(e){var i=e.replace(/\./g,"/");return new Promise(function(e,n){sap.ui.require([i],function(i){e(i)},function(e){n(new Error("failed to load class "+i+":"+e))})})}function b(e,i,n){if(e){return function(i){return e.indexOf(i)>=0}}else if(n){return function(e){return i.indexOf(e)<0}}return function(e){return i.indexOf(e)<0&&(n||t.isKnownRuntimeLayerLibrary(e))}}t.loadLibraries=function(e){if(e==="openui5"){e=t.aKnownOpenUI5Libraries}else if(e==="sapui5.runtime"){e=t.aKnownRuntimeLayerLibraries}var i;if(Array.isArray(e)){i=b(e)}else if(typeof e==="function"){i=e}else if(e==null){i=l}else{throw new TypeError("unexpected filter "+e)}return f(i)};function v(e,i){i.test("Should load at least one library and some controls",function(i){i.expect(2);var n=false;for(var a in e){if(e[a]){if(!n){i.ok(e[a],"Should have loaded at least one library");n=true}var t=e[a].controls?e[a].controls.length:0;if(t>0){i.ok(t>0,"Should find at least 10 controls in a library");break}}}})}var h=function(e,i,n,a,t){if(!e||i.length&&i.indexOf(e)<0||n.indexOf(e)>=0){return Promise.resolve(false)}return m(e).then(function(i){var n={name:e,class:i,canBeInstantiated:s(e,i),canBeRendered:o(e,i)};if(!t&&!n.canBeInstantiated){return false}if(!a&&!n.canBeRendered){return false}return n},d)};var x=function(e,i,n,a,t,r){return new Promise(function(o,u){var s=0;var c=function(u){if(u<e.length){var l=e[u];T(l,i,n,a,t,r).then(function(e){if(e){s++}c(u+1)})}else{o(s)}};c(0)})};function T(e,i,n,a,t,r){return h(e,i,n,a,t).then(function(i){if(i){r(e,i.class,{canInstantiate:i.canBeInstantiated,canRender:i.canBeRendered})}return new Promise(function(e){setTimeout(function(){e(!!i)},0)})})}t.run=function(e,i){window.setTimeout(function(){L(e,i)},1)};function L(e,i){if(!i){i={}}var n=i.done||c;var a=i.librariesToTest||undefined;var t=i.excludedLibraries||[];var r=i.controlsToTest||[];var o=i.excludedControls||[];var u=i.includeDistLayer!==undefined?i.includeDistLayer:false;var s=i.includeElements!==undefined?i.includeElements:false;var l=i.includeNonRenderable!==undefined?i.includeNonRenderable:true;var d=i.includeNonInstantiable!==undefined?i.includeNonInstantiable:false;var p=i.qunit;if(p){p.test("Checking the given QUnit object",function(e){e.ok(true,"The given QUnit should be able to assert")})}else{var m={ok:function(e,i){if(!e){throw new Error(i)}},expect:c};p={module:c,test:function(e,i){i(m)}}}p.test("Checking the given options",function(e){e.ok(i.librariesToTest===undefined||Array.isArray(i.librariesToTest),"The given librariesToTest must be undefined or an array, but is: "+i.librariesToTest);e.ok(i.excludedLibraries===undefined||Array.isArray(i.excludedLibraries),"The given excludedLibraries must be undefined or an array, but is: "+i.excludedLibraries);e.ok(i.excludedControls===undefined||Array.isArray(i.excludedControls),"The given excludedControls must be undefined or an array, but is: "+i.excludedControls);e.ok(i.includeDistLayer===undefined||typeof i.includeDistLayer==="boolean","The given includeDistLayer must be undefined or a boolean, but is: "+i.includeDistLayer);e.ok(i.includeElements===undefined||typeof i.includeElements==="boolean","The given includeElements must be undefined or a boolean, but is: "+i.includeElements);e.ok(i.includeNonRenderable===undefined||typeof i.includeNonRenderable==="boolean","The given includeNonRenderable must be undefined or a boolean, but is: "+i.includeNonRenderable);e.ok(i.includeNonInstantiable===undefined||typeof i.includeNonInstantiable==="boolean","The given includeNonInstantiable must be undefined or a boolean, but is: "+i.includeNonInstantiable);e.ok(n===undefined||typeof n==="function","The given done callback must be undefined or a function, but is: "+n)});var h=b(a,t,u);return f(h).then(function(e){v(e,p);return e}).then(function(i){return y(i,s,r,o,l,d,e).then(function(e){n({testedControlCount:e[0],testedLibraryCount:e[1]})})})}function y(e,i,n,a,t,r,o){return new Promise(function(u){var s=Object.keys(e),c=0,l=0;var d=function(p){if(p<s.length){var f=s[p];g(e,f,i,n,a,t,r,o).then(function(e){c+=e[0];if(e[1]){l++}d(p+1)})}else{u([c,l])}};d(0)})}function g(e,i,n,a,t,r,o,u){return new Promise(function(s){var c=e[i];if(!c){s([0,false]);return}var l=c.controls;if(n){l=l.concat(c.elements.slice())}x(l,a,t,r,o,u).then(function(e){s([e,true])})})}return t},true);