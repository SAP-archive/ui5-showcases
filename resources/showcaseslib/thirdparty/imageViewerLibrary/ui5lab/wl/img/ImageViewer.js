sap.ui.define(["sap/ui/core/Control","sap/ui/core/Popup","./lib/viewer.min"],function(e,t){"use strict";return e.extend("ui5lab.wl.img.ImageViewer",{metadata:{properties:{src:"string"},events:{}},keyEnter:13,init:function(){this.log=jQuery.sap.log;this.attachBrowserEvent("keydown",this.catchOnEnter)},renderer:function(e,t){e.write("<div");e.writeControlData(t);e.write(">");e.write("<img");e.writeAttributeEscaped("src",t.getSrc());e.write(">");e.write("</img>");e.write("</div>")},onBeforeRendering:function(e){},onAfterRendering:function(e){if(this.getSrc()&&this.getSrc().length>0){this.viewer=new Viewer(this.getDomRef(),{title:false,tooltip:false,movable:false,scalable:false,navbar:false,fullscreen:false,transition:false})}},catchOnEnter:function(e){this.log.info("keydown:"+event.keyCode);switch(event.keyCode){case this.keyEnter:this.viewer.hide();break;default:}},open:function(){sap.ui.getCore().getRenderManager().render(this,sap.ui.getCore().getStaticAreaRef());if(this.viewer){this.viewer.show()}},setSrc:function(e){this.setProperty("src",e,true);return this}})});